<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>コーディングスタイルの例</title>
    <link rel="stylesheet" href="https://user040404.github.io/normalize.css" />
    <link rel="stylesheet" href="https://user040404.github.io/style.css" />
    <link rel="icon" href="/favicon.svg" />
</head>
<body><header>
<script type="text/javascript" src="//xa.shinobi.jp/ufo/190668700"></script><noscript><a href="//xa.shinobi.jp/bin/gg?190668700" target="_blank"><img src="//xa.shinobi.jp/bin/ll?190668700" border="0"></a><br><span style="font-size:9px"><img style="margin:0;vertical-align:text-bottom;" src="//img.shinobi.jp/tadaima/fj.gif" width="19" height="11"> </span></noscript>
<div id="date"><time datetime="2025-10-30 06:53:23">2025-10-30 06:53:23</time></div>
<div><a href="https://user040404.github.io/">トップページ</a></div>
<h1>コーディングスタイルの例</h1>
<nav id="TableOfContents">
  <ul>
    <li><a href="#はじめに">はじめに</a></li>
    <li><a href="#コメント">コメント</a></li>
    <li><a href="#空白文字">空白文字</a>
      <ul>
        <li><a href="#空行">空行</a></li>
        <li><a href="#スペース">スペース</a></li>
        <li><a href="#インデント">インデント</a></li>
      </ul>
    </li>
    <li><a href="#識別子">識別子</a></li>
    <li><a href="#制御文">制御文</a></li>
    <li><a href="#宣言および定義">宣言および定義</a>
      <ul>
        <li><a href="#マクロ">マクロ</a></li>
        <li><a href="#名前空間">名前空間</a></li>
        <li><a href="#型およびキャスト">型およびキャスト</a></li>
        <li><a href="#定数">定数</a></li>
        <li><a href="#ポインタ">ポインタ</a></li>
        <li><a href="#関数">関数</a></li>
        <li><a href="#クラス">クラス</a></li>
      </ul>
    </li>
  </ul>
</nav>
</header>
<div id="content">
<h2 id="はじめに">はじめに</h2>
<p>プログラミングにおいて読みやすく間違いに気づきやすいコードを記述するための工夫がコーディングスタイルです。以下に示すようなスタイルにこだわる必要はありませんが、一貫したスタイルで記述されていないコードにはやはり問題があります。ここでは参考としてC++のコーディングスタイルを紹介します。<a href="https://google.github.io/styleguide/cppguide.html">Googleのコーディングガイドライン</a>および<a href="http://stlalv.la.coocan.jp/">C++マニアック</a>を参考にしました。</p>
<h2 id="コメント">コメント</h2>
<p>コメントがなくてもプログラムの処理の流れがわかるように適切な変数名・関数名を使用しましょう。</p>
<p>他の人がコードを読む手助けになるようなコメントを記述するようにします。実行される文の処理をそのまま記述したようなコメントには意味がありません。</p>
<h2 id="空白文字">空白文字</h2>
<h3 id="空行">空行</h3>
<p>空行はコードを読みやすくするために使用します。コードブロックの前後に空行を挿入します。</p>
<h3 id="スペース">スペース</h3>
<p>スペースはコードを読みやすくするために使用します。括弧の前後や演算子の前後にはスペースを挿入します。</p>
<h3 id="インデント">インデント</h3>
<p>コードの階層構造を分かりやすくするために階層ごとにスペース4文字(もしくは2文字)を行頭に挿入して字下げします。</p>
<h2 id="識別子">識別子</h2>
<p>識別子には意味のある英単語をできれば3語以上使用し、それぞれの単語はできるだけ省略しないようにします。</p>
<p>単語の区切り方には以下のようなものがあります。</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>スネークケース(snake_case)</td>
          <td>それぞれの単語を&quot;_&quot;(アンダースコア)で区切る(すべて小文字)</td>
      </tr>
      <tr>
          <td>アッパースネークケース(UPPER_SNAKE_CASE)</td>
          <td>それぞれの単語を&quot;_&quot;(アンダースコア)で区切る(すべて大文字)</td>
      </tr>
      <tr>
          <td>キャメルケース(camelCase)</td>
          <td>それぞれの単語の頭文字を大文字にする(先頭は小文字)</td>
      </tr>
      <tr>
          <td>パスカルケース(PascalCase)</td>
          <td>それぞれの単語の頭文字を大文字にする(先頭は大文字)</td>
      </tr>
      <tr>
          <td>ケバブケース(kebab-case)</td>
          <td>それぞれの単語を&quot;-&quot;(ハイフン)で区切る(すべて小文字)</td>
      </tr>
  </tbody>
</table>
<p>識別子の種類に応じて以下のように単語の区切り方を決めておきます。</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>スネークケース(snake_case)で命名するもの</td>
          <td>ファイル・変数・名前空間</td>
      </tr>
      <tr>
          <td>パスカルケース(PascalCase)で命名するもの</td>
          <td>クラス・構造体(共用体)・関数・定義した型・列挙型</td>
      </tr>
      <tr>
          <td>アッパースネークケース(UPPER_SNAKE_CASE)で命名するもの</td>
          <td>記号定数・列挙型のメンバ・マクロ</td>
      </tr>
  </tbody>
</table>
<p>コメントに頼らなくても名前によって変数の役割や関数の機能がわかるようにします。関数名は「動詞+目的語」の形にします。ループのインデックスなど狭い範囲で使用する変数の名前はできるだけ短くして目立たないようにします。</p>
<p>プログラム全体で使用する定数には、コードが読みやすくなるように適切な名前をつけます。名前のつけられた定数を記号定数といいます。記号定数を使用することによってコードの可読性が向上するだけでなくメンテナンスも容易になります。<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>よく使用される識別子には以下のようなものがあります。</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th></th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>識別子</td>
          <td>意味</td>
          <td>備考</td>
      </tr>
      <tr>
          <td>i, j, k</td>
          <td>ループ変数</td>
          <td>index</td>
      </tr>
      <tr>
          <td>n, num</td>
          <td>数値</td>
          <td>number</td>
      </tr>
      <tr>
          <td>c, ch</td>
          <td>文字</td>
          <td>character</td>
      </tr>
      <tr>
          <td>s, str</td>
          <td>文字列</td>
          <td>string</td>
      </tr>
      <tr>
          <td>buf, buff</td>
          <td>バッファ</td>
          <td>buffer</td>
      </tr>
      <tr>
          <td>tmp, temp</td>
          <td>一時的なもの</td>
          <td>temporary</td>
      </tr>
      <tr>
          <td>func</td>
          <td>関数</td>
          <td>function</td>
      </tr>
      <tr>
          <td>arg</td>
          <td>引数</td>
          <td>argument</td>
      </tr>
      <tr>
          <td>r</td>
          <td>半径</td>
          <td>radius</td>
      </tr>
      <tr>
          <td>rect</td>
          <td>長方形</td>
          <td>rectangle</td>
      </tr>
      <tr>
          <td>x</td>
          <td>x座標</td>
          <td></td>
      </tr>
      <tr>
          <td>y</td>
          <td>y座標</td>
          <td></td>
      </tr>
      <tr>
          <td>cx</td>
          <td>幅</td>
          <td></td>
      </tr>
      <tr>
          <td>cy</td>
          <td>高さ</td>
          <td></td>
      </tr>
  </tbody>
</table>
<p>以下のようにプレフィクスをつけて変数の型を示すスタイル(いわゆるハンガリアン記法)は現在では推奨されていません。参考程度に留めてください。</p>
<p>クラス名および関数名にはそのクラスや関数の特徴に応じて以下のようなプレフィクスをつけます。</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th></th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>種類</td>
          <td>プレフィクス</td>
          <td>備考</td>
      </tr>
      <tr>
          <td>テンプレート</td>
          <td>T</td>
          <td>template</td>
      </tr>
      <tr>
          <td>インターフェイス</td>
          <td>I</td>
          <td>interface</td>
      </tr>
  </tbody>
</table>
<p>クラス型の変数名にはそのクラスの種類に応じて以下のようなプレフィクスをつけます。</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>クラス</td>
          <td>プレフィクス</td>
      </tr>
      <tr>
          <td>string</td>
          <td>str</td>
      </tr>
      <tr>
          <td>iterator</td>
          <td>it</td>
      </tr>
      <tr>
          <td>vector</td>
          <td>vec</td>
      </tr>
      <tr>
          <td>list</td>
          <td>list</td>
      </tr>
      <tr>
          <td>map</td>
          <td>map</td>
      </tr>
      <tr>
          <td>pair</td>
          <td>pair</td>
      </tr>
  </tbody>
</table>
<p>変数名にはその変数のスコープや種類に応じて以下のようなプレフィクスをつけます。</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th></th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>種類</td>
          <td>プレフィクス</td>
          <td>備考</td>
      </tr>
      <tr>
          <td>メンバ変数</td>
          <td>m_</td>
          <td>member</td>
      </tr>
      <tr>
          <td>定数(const)</td>
          <td>c_</td>
          <td>constant</td>
      </tr>
      <tr>
          <td>静的変数(static)</td>
          <td>s_</td>
          <td>static</td>
      </tr>
      <tr>
          <td>グローバル変数</td>
          <td>g_</td>
          <td>global</td>
      </tr>
  </tbody>
</table>
<p>変数名にはその変数の型に応じて(関数名にはその関数の戻り値の型に応じて)以下のようなプレフィクスをつけます。</p>
<table>
  <thead>
      <tr>
          <th></th>
          <th></th>
          <th></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>型</td>
          <td>プレフィクス</td>
          <td>備考</td>
      </tr>
      <tr>
          <td>class</td>
          <td>なし</td>
          <td></td>
      </tr>
      <tr>
          <td>struct</td>
          <td>st</td>
          <td>structure</td>
      </tr>
      <tr>
          <td>union</td>
          <td>uni</td>
          <td></td>
      </tr>
      <tr>
          <td>enum</td>
          <td>e</td>
          <td>enumerate</td>
      </tr>
      <tr>
          <td>bool</td>
          <td>b</td>
          <td></td>
      </tr>
      <tr>
          <td>char</td>
          <td>c</td>
          <td>character</td>
      </tr>
      <tr>
          <td>unsigned</td>
          <td>u</td>
          <td></td>
      </tr>
      <tr>
          <td>short</td>
          <td>s</td>
          <td></td>
      </tr>
      <tr>
          <td>long</td>
          <td>l</td>
          <td></td>
      </tr>
      <tr>
          <td>int</td>
          <td>i</td>
          <td>integer</td>
      </tr>
      <tr>
          <td>float</td>
          <td>f</td>
          <td></td>
      </tr>
      <tr>
          <td>double</td>
          <td>d</td>
          <td></td>
      </tr>
      <tr>
          <td>[ ] (配列)</td>
          <td>a</td>
          <td>array</td>
      </tr>
      <tr>
          <td>&amp; (参照)</td>
          <td>r</td>
          <td>reference</td>
      </tr>
      <tr>
          <td>* (ポインタ)</td>
          <td>p</td>
          <td>pointer</td>
      </tr>
      <tr>
          <td>*func( ) (関数ポインタ)</td>
          <td>pf</td>
          <td>pointer of function</td>
      </tr>
      <tr>
          <td>テンプレートの引数</td>
          <td>t</td>
          <td>template</td>
      </tr>
      <tr>
          <td>定義した型</td>
          <td>tn</td>
          <td>typename</td>
      </tr>
  </tbody>
</table>
<h2 id="制御文">制御文</h2>
<p>制御文は以下のようなスタイルで記述します。</p>


<figure class="xCodeBlock">

<div class="xCodeBlock_code"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> ( ... ) {      <span style="color:#66d9ef">if</span> (false) {             <span style="color:#66d9ef">if</span> (false      <span style="color:#66d9ef">if</span> (true
</span></span><span style="display:flex;"><span>    ...           } <span style="color:#66d9ef">else</span> <span style="color:#a6e22e">if</span> ( ... ) {      <span style="color:#f92672">||</span> ...         <span style="color:#f92672">&amp;&amp;</span> ...
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {              ...                  <span style="color:#f92672">||</span> ...         <span style="color:#f92672">&amp;&amp;</span> ...
</span></span><span style="display:flex;"><span>    ...           } <span style="color:#66d9ef">else</span> <span style="color:#a6e22e">if</span> ( ... ) {      <span style="color:#f92672">||</span> ...         <span style="color:#f92672">&amp;&amp;</span> ...
</span></span><span style="display:flex;"><span>}                     ...                  ) {            ) {
</span></span><span style="display:flex;"><span>                  } <span style="color:#66d9ef">else</span> {                     ...            ...
</span></span><span style="display:flex;"><span>                      ...                  }              }
</span></span><span style="display:flex;"><span>                  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">switch</span> ( ... ) {       <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">break</span>; <span style="color:#66d9ef">case</span> ... <span style="color:#f92672">:</span>          ...
</span></span><span style="display:flex;"><span>    ...                }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">break</span>; <span style="color:#66d9ef">case</span> ... <span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    ...                <span style="color:#66d9ef">while</span> ( ... ) {      <span style="color:#66d9ef">do</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">break</span>; <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>            ...                  ...
</span></span><span style="display:flex;"><span>    ...                }                    } <span style="color:#66d9ef">while</span> ( ... );
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</figure>
<p>命令文が1行の場合でも{}は省略しないようにします。</p>
<p>命令文がない場合でもswitch文のdefaultは省略しないようにします。</p>
<p>ループ変数などループ内でしか使用しない変数は()内で宣言します。それらが複数ある場合はループに入る直前に宣言しても構いません。</p>
<h2 id="宣言および定義">宣言および定義</h2>
<h3 id="マクロ">マクロ</h3>
<p>必要な場合を除きマクロはできるだけ使用しないようにします。マクロが必要になるのは、ヘッダファイルを取り込んだり、インクルードガードしたり、条件付きコンパイルしたりするときです。</p>
<h3 id="名前空間">名前空間</h3>
<p>名前の衝突を避けるため名前空間を適切に使用します。自分のコードを名前空間に含めると安全です。名前空間を無効にするusing namespaceやusing foo::barなどの使用は避けたほうがいいでしょう。</p>
<p>内部リンケージの指定には無名名前空間を使用します。</p>
<h3 id="型およびキャスト">型およびキャスト</h3>
<p>型の定義にはtypedefではなくusingを使用します。</p>
<p>型の名前が長いときや型の名前が重要でないと思われるときはautoを使用してもいいでしょう。</p>
<p>C言語形式のキャストを使用してはいけません。</p>
<h3 id="定数">定数</h3>
<p>記号定数の定義にはdefineではなくconstexprを使用します。</p>
<h3 id="ポインタ">ポインタ</h3>
<p>生のポインタの使用は避けて参照やスマートポインタを使用します。アドレスを直接操作するのは危険です。</p>
<p>スマートポインタにはstd::unique_ptrを使用します。std::auto_ptrを使用してはいけません。</p>
<p>nullポインタにはNULLではなくnullptrを使用します。</p>
<h3 id="関数">関数</h3>
<p>関数の定義はできるだけ短く記述します。40行くらいが目安です。1行に収まるのであればinline関数にしてもいいでしょう。</p>
<p>戻り値を()でくくる必要はありません。</p>
<h3 id="クラス">クラス</h3>
<p>暗黙の型変換を避けるため変換コンストラクタにはexplicitを指定します。</p>
<p>コピーしないクラスはoperator=およびコピーコンストラクタを非公開(private)にします。</p>
<p>基底クラスのデストラクタにはvirtualを指定(仮想関数として定義)します。</p>
<p>オーバーライドされるメンバ関数にはvirtualを指定します。オーバーライドするメンバ関数には(virtualではなく)overrideを指定します。</p>
<p>派生しないクラスおよびオーバーライドしないメンバ関数にはfinalを指定します。</p>


<figure class="xCodeBlock">
<figcaption class="xCodeBlock_title">hello.h</figcaption>
<div class="xCodeBlock_code"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// ヘッダファイル単体でコンパイルできるようにします。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// テンプレートやインライン関数などの定義は宣言と同じファイルに含めるようにします。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// /path/to/file/hello.hに対して以下のようなインクルードガードを記述します。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ifndef PATH_TO_FILE_FOO_H_
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define PATH_TO_FILE_FOO_H_
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> my_space {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// クラスの定義では [public] -&gt; [protected] -&gt; [private] の順にメンバを記述します。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// それぞれのセクションでは以下の順にメンバを記述します。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// [型] -&gt; [定数] -&gt; [ファクトリ関数] -&gt; [コンストラクタ] -&gt; [代入演算子] -&gt; [デストラクタ] -&gt; [その他のメンバ関数] -&gt; [メンバ変数]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// メンバ関数の定義が長い場合はクラス定義の外側に記述します。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>} <span style="color:#75715e">// namespace my_space
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif </span><span style="color:#75715e">// PATH_TO_FILE_FOO_H_
</span></span></span></code></pre></div></div>
</figure>


<figure class="xCodeBlock">
<figcaption class="xCodeBlock_title">hello.cpp</figcaption>
<div class="xCodeBlock_code"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// ヘッダファイルは以下の順でアルファベット順にインクルードします。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Cのシステムヘッダファイル
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstdio&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstring&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// C++のシステムヘッダファイル
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 他のライブラリのヘッダファイル
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// 自身のプロジェクトのヘッダファイル
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;my_header_file.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Hello, World!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> EXIT_SUCCESS;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</figure>
<!--


<figure class="xCodeBlock">
<figcaption class="xCodeBlock_title">hello.h</figcaption>
<div class="xCodeBlock_code"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  ヘッダファイル単体でコンパイルできるようにします。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  テンプレートやインライン関数などの定義は宣言と同じファイルに含めるようにします。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// /path/to/file/hello.hに対して以下のようなインクルードガードを記述します。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ifndef PATH_TO_FILE_FOO_H_
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define PATH_TO_FILE_FOO_H_
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> my {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">GetValue</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">void</span> TWrite(T a);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T1, <span style="color:#66d9ef">typename</span> T2<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">void</span> TWriteMax(T1 a, T2 b);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">constexpr</span> <span style="color:#66d9ef">auto</span> SIZE <span style="color:#f92672">=</span> <span style="color:#ae81ff">256</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Point</span> { <span style="color:#75715e">// 相互に関連する変数は構造体にまとめて定義します。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">int</span> x;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> y;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> <span style="color:#a6e22e">Color</span> {
</span></span><span style="display:flex;"><span>  RED,
</span></span><span style="display:flex;"><span>  GREEN,
</span></span><span style="display:flex;"><span>  BLUE,
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">GetValue</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> TWrite(T a)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> a <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> T1, <span style="color:#66d9ef">typename</span> T2<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> TWriteMax(T1 a, T2 b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> ((a <span style="color:#f92672">&gt;=</span> b) <span style="color:#f92672">?</span> (a) <span style="color:#f92672">:</span> (b)) <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  クラスの定義では [public] -&gt; [protected] -&gt; [private] の順にメンバを記述します。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  それぞれのセクションでは以下の順にメンバを記述します。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  [型] -&gt; [定数] -&gt; [ファクトリ関数] -&gt; [コンストラクタ] -&gt; [代入演算子] -&gt; [デストラクタ] -&gt; [その他のメンバ関数] -&gt; [メンバ変数]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  メンバ関数の定義が長い場合はクラス定義の外側に記述します。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>  MyClass() <span style="color:#f92672">:</span> _num(<span style="color:#ae81ff">0</span>) {}
</span></span><span style="display:flex;"><span>  MyClass(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">&amp;</span> num) <span style="color:#f92672">:</span> _num(num) {}
</span></span><span style="display:flex;"><span>  MyClass(<span style="color:#66d9ef">const</span> MyClass<span style="color:#f92672">&amp;</span> my_class) <span style="color:#f92672">:</span> _num(my_class.Get()) {}
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">~</span>MyClass() {}
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">Get</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> _num; }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Set</span>(<span style="color:#66d9ef">int</span> num) { _num <span style="color:#f92672">=</span> num; <span style="color:#66d9ef">return</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> _num;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>} <span style="color:#75715e">// namespace my
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif </span><span style="color:#75715e">// PATH_TO_FILE_FOO_H_
</span></span></span></code></pre></div></div>
</figure>



<figure class="xCodeBlock">
<figcaption class="xCodeBlock_title">foo.cpp</figcaption>
<div class="xCodeBlock_code"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>puts(<span style="color:#e6db74">&#34;Hello, World!&#34;</span>);
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Hello, World!&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> cstr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abcde&#34;</span>;
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>size_t len <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>strlen(cstr);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> cstr <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> len <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>string str(<span style="color:#e6db74">&#34;abcde&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> str <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> str.size() <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  my<span style="color:#f92672">::</span>Point point {<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">30</span>};
</span></span><span style="display:flex;"><span>  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> point.x <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;, &#34;</span> <span style="color:#f92672">&lt;&lt;</span> point.y <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">10</span>; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> my<span style="color:#f92672">::</span>GetValue()) {
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Value is&#34;</span> <span style="color:#f92672">&lt;&lt;</span> a <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Value is 0 or null&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  my<span style="color:#f92672">::</span>TWrite<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(<span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span>  my<span style="color:#f92672">::</span>TWriteMax<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">11</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> EXIT_SUCCESS;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
</figure>

## コードフォーマッタ(ClangFormat)

コードフォーマッタは設定にしたがってプログラムのコードを整形してくれます。[Clang](https://ja.wikipedia.org/wiki/Clang)というコンパイラに付属しているClangFormatはC言語ライクなプログラミング言語(C/C++/Objective-C/Objective-C++)に対応しているフォーマッタです。

ClangはMSYS2でインストールできます。



<figure class="xCodeBlock">

<div class="xCodeBlock_code"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span># pacman -S mingw-w64-i686-clang
</span></span><span style="display:flex;"><span># pacman -S mingw-w64-x86_64-clang</span></span></code></pre></div></div>
</figure>

整形したいソースファイルを指定してコマンドclang-formatを入力します。



<figure class="xCodeBlock">

<div class="xCodeBlock_code"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span># clang-format -i -style=google foo.c</span></span></code></pre></div></div>
</figure>

オプション-styleでスタイルを指定します。オプション-iでファイルを上書きします。

以下のようなスクリプトを実行すればカレントディレクトリのソースファイルをまとめてフォーマットできます。



<figure class="xCodeBlock">

<div class="xCodeBlock_code"><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> infile in *.<span style="color:#f92672">{</span>cpp,h<span style="color:#f92672">}</span>; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  echo clang-format -i -style<span style="color:#f92672">=</span>google $infile
</span></span><span style="display:flex;"><span>  clang-format -i -style<span style="color:#f92672">=</span>google $infile
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>exit <span style="color:#ae81ff">0</span></span></span></code></pre></div></div>
</figure>
 -->
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>コードに直接記述された値や文字列をリテラルといいます。意味の分からないリテラル(マジックナンバー)の使用は避けるべきです。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>


    </div><footer>
<div>Powered by <a href="https://gohugo.io/">Hugo</a></div>
<div><a target="_blank" href="https://www.amazon.co.jp/b?_encoding=UTF8&tag=foo23-22&linkCode=ur2&linkId=5c65ecd6930af79eab6fbe1abe8e5cb1&camp=247&creative=1211&node=2127209051">Amazonのパソコン・周辺機器</a></div>
</footer>
</body>
</html>
